<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Secure distributed email service with Java RMI | Rastko Gajanin </title> <meta name="author" content="Rastko Gajanin"> <meta name="description" content="Distributed Systems course project"> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://r-gg.github.io/projects/email_java_rmi/"> <script src="/assets/js/theme.js?a5ca4084d3b81624bcfa01156dae2b8e"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> Rastko Gajanin </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications </a> </li> <li class="nav-item active"> <a class="nav-link" href="/projects/">projects <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Secure distributed email service with Java RMI</h1> <p class="post-description">Distributed Systems course project</p> </header> <article> <p><strong>Keywords:</strong> <em>distributed systems, dns-server, java rmi, email service, secure communication, SMTP, IMAP</em></p> <h2 id="co-authors">Co-authors:</h2> <p>Implemented this project together with my colleagues:</p> <ul> <li>Nikolaus-Mathias Herl</li> <li>Nikolaus Walther</li> </ul> <p>as a part of Distributed Systems course at TU Wien.</p> <h2 id="summary">Summary</h2> <p>Implemented a decentralized E-Mailing service, that supports custom mail transfer and mail access protocols with RSA-AES-based handshake and hash-based integrity checks.</p> <blockquote> <p>Code available in the <a href="https://github.com/r-gg/vs-ue" rel="external nofollow noopener" target="_blank">GitHub repository</a>.</p> </blockquote> <h2 id="implementation-details">Implementation Details</h2> <h3 id="decentralized-email-service">Decentralized Email Service</h3> <p>There are four types of servers: <strong>nameservers</strong>, <strong>mailbox servers</strong>, <strong>transfer server</strong> and <strong>monitoring server</strong>. Each nameserver has registry of IP addresses of the mail server of this domain and name servers of its subdomains. Mailbox servers store the messages of the users belonging to their domain/subdomain and offer access to these message. Transfer server forwards messages to the respective mailbox servers. After transfering a message, the transfer server sends a usage UDP packet (containing hosts IP &amp; port, and senders email address) to the monitoring server. Monitoring server aggregates metrics across the transfer servers and across email addresses.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/vs-ue/decentralized_naming_service-480.webp 480w,/assets/img/vs-ue/decentralized_naming_service-800.webp 800w,/assets/img/vs-ue/decentralized_naming_service-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/vs-ue/decentralized_naming_service.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="DNS" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p>Registration of new domains is performed with <strong>Java RMI</strong> recursively, i.e. each server passes the registration onto its respective subdomain servers. To address the bootstrapping problem, a <strong>centralized registry</strong> with the address of the root nameserver is used. See the diagram below for an illustration of registering new name- and mailbox servers.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/vs-ue/register_nameserver-480.webp 480w,/assets/img/vs-ue/register_nameserver-800.webp 800w,/assets/img/vs-ue/register_nameserver-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/vs-ue/register_nameserver.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Nameserver registration" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/vs-ue/register_mailbox-480.webp 480w,/assets/img/vs-ue/register_mailbox-800.webp 800w,/assets/img/vs-ue/register_mailbox-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/vs-ue/register_mailbox.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Mailbox server registration" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h3 id="security">Security</h3> <p><strong>Mail client</strong> is the component that allows the users to send emails and view emails via CLI. To read messages privately the client can establish an encrypted connection to the mailbox server based on an <strong>RSA + symmetric AES handshake protocol</strong>.</p> <p>The messages that are sent to the transfer server for forwarding are already encrypted with the transfer server’s public key. To ensure <strong>message integrity</strong>, each client can sign and verify the integrity of the message using <strong>hash-based message authentication codes (HMAC)</strong>.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/vs-ue/mail_client-480.webp 480w,/assets/img/vs-ue/mail_client-800.webp 800w,/assets/img/vs-ue/mail_client-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/vs-ue/mail_client.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Mail Client workflow" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> </article> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2024 Rastko Gajanin. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. Last updated: May 03, 2024. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?b7816bd189846d29eded8745f9c4cf77"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.min.js"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>